<div class="login-container">
  <div class="login-card">
    <div class="login-header">
      <div class="icon-wrapper">
        <img src="/assets/images/gamepad.svg" class="icon-gamepad" />
      </div>
      <h1 class="title">Bienvenido</h1>
      <p class="subtitle">Ingresa a tu cuenta</p>
    </div>

    <form [formGroup]="loginForm" (submit)="submit()">
      <div class="form-group">
        <label for="usuario">
          <svg
            id="user-icon"
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            viewBox="0 0 16 16"
          >
            <path
              d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"
            />
          </svg>
          Usuario
        </label>
        <input
          type="text"
          id="usuario"
          class="form-control"
          placeholder="Danoo"
          formControlName="usuario"
          required
        />
      </div>

      <div class="form-group">
        <label for="password">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            viewBox="0 0 16 16"
          >
            <path
              d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"
            />
          </svg>
          Contraseña
        </label>
        <input
          type="password"
          id="password"
          class="form-control"
          placeholder="••••••••"
          formControlName="password"
          required
        />
      </div>

      <div class="form-options">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="remember" />
          <label class="form-check-label" for="remember">Recordarme</label>
        </div>
      </div>

      <button type="submit" class="btn-submit" [disabled]="isLoading || loginForm.invalid">
        @if (isLoading) {
        <span>Iniciando sesión...</span>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          fill="currentColor"
          viewBox="0 0 16 16"
          class="spinner"
        >
          <path
            d="M8 0a8 8 0 1 0 8 8A8 8 0 0 0 8 0zM8 14a6 6 0 1 1 6-6 6 6 0 0 1-6 6z"
            opacity=".3"
          />
          <path d="M8 2a6 6 0 0 0-6 6h2a4 4 0 0 1 4-4V2z" />
        </svg>
        } @else {
        <span>Iniciar Sesión</span>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          fill="currentColor"
          viewBox="0 0 16 16"
        >
          <path
            fill-rule="evenodd"
            d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"
          />
        </svg>
        }
      </button>
      <div class="divider"></div>
    </form>

    <p class="signup-text">
      ¿No tienes una cuenta? <a routerLink="/crear-cuenta" class="signup-link">Regístrate</a>
    </p>
  </div>
</div>
<app-share-popup
  [mensaje]="infoMessage || ''"
  [tipo]="popupTipo"
  [mostrar]="popupMostrar"
  (cerrarEvent)="popupMostrar = false"
></app-share-popup>
